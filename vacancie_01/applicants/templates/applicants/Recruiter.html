{% block title %}Recruiter{% endblock %}

{% block content %}

<style>
    body {
        background-color: #FFFFFF;
        font-family: Arial, Helvetica, sans-serif;
        padding: 20px;
        margin: 0;
    }

    .recruiter-container {
        display: flex;
        height: auto;
        gap: 20px;
    }

    /* Left side - Video meeting placeholder */
    .left-panel {
        flex: 0.4;  /* 40% der Breite */
        background-color: #f0f0f0;
        border: 2px solid #ddd;
        border-radius: 10px;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 24px;
        color: #666;
    }

    /* Right side - Applicant information */
    .right-panel {
        flex: 0.6;  /* 60% der Breite */
        padding: 20px;
        border: 2px solid #ddd;
        border-radius: 10px;
    }


    /* Applicant selection buttons */
    .applicant-tabs {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-bottom: 30px;
    }

    .applicant-tab {
        background-color: lightblue;
        padding: 12px 25px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        transition: background-color 0.3s;
    }

    .applicant-tab:hover {
        background-color: #87CEEB;
    }

    .applicant-tab.active {
        background-color: #4682B4;
        color: white;
    }

    /* Applicant content area */
    .applicant-content {
        display: none;
    }

    .applicant-content.active {
        display: block;
    }

    .description-placeholder {
        background-color: #f9f9f9;
        border: 2px dashed #ccc;
        padding: 40px;
        text-align: center;
        margin-bottom: 30px;
        border-radius: 5px;
        color: #666;
        font-style: italic;
    }

    /* Document buttons */
    .document-buttons {
        display: flex;
        justify-content: center;
        gap: 15px;
    }

    .doc-button {
        background-color: #28a745;
        color: white;
        padding: 15px 30px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        transition: background-color 0.3s;
    }

    .doc-button:hover {
        background-color: #218838;
    }
</style>


<div class="recruiter-container">
    <!-- Left Panel - Video Meeting -->
    <div class="left-panel">
        <div>ðŸ“¹ Video Meeting Placeholder</div>
    </div>

    <!-- Right Panel - Applicant Information -->
    <div class="right-panel">
        <!-- Applicant Selection Tabs -->
        <div class="applicant-tabs">
            {% for applicant in applicants %}
                <button type="button" class="applicant-tab"
                        onclick="showApplicant(event, '{{ applicant.id }}')">{{ applicant.name }}</button>
            {% endfor %}
        </div>

        <!-- Dynamic Applicant Content -->
        {% for applicant in applicants %}
        <div id="applicant-{{ applicant.id }}" class="applicant-content">
            <div class="description-placeholder">
                {{ applicant.description }}
            </div>
            <div class="document-buttons">
                <button type="button" class="doc-button" onclick="openPDF(event, '{{ applicant.documents.cv }}')">CV</button>
                <button type="button" class="doc-button" onclick="openPDF(event, '{{ applicant.documents.job_reference }}')">Job Reference</button>
                <button type="button" class="doc-button" onclick="openPDF(event, '{{ applicant.documents.cover_letter }}')">Cover Letter</button>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<script>
    // Function to switch between applicants
    function showApplicant(event, applicantId) {
        event.preventDefault();

        const contents = document.querySelectorAll('.applicant-content');
        contents.forEach(content => {
            content.classList.remove('active');
        });

        const tabs = document.querySelectorAll('.applicant-tab');
        tabs.forEach(tab => {
            tab.classList.remove('active');
        });

        document.getElementById('applicant-' + applicantId).classList.add('active');
        event.target.classList.add('active');
    }

    // Set first applicant as active when page loads
    document.addEventListener('DOMContentLoaded', function() {
        const firstTab = document.querySelector('.applicant-tab');
        const firstContent = document.querySelector('.applicant-content');

        if (firstTab && firstContent) {
            firstTab.classList.add('active');
            firstContent.classList.add('active');
        }
    });

    // Function to open PDF files
    function openPDF(event, pdfPath) {
        event.preventDefault();
        event.stopPropagation();

        const fullPath = '/static/applicants/' + pdfPath;
        const newWindow = window.open(fullPath, '_blank', 'noopener,noreferrer');

        if (newWindow) {
            newWindow.focus();
        }

        return false;
    }
</script>

{% endblock %}