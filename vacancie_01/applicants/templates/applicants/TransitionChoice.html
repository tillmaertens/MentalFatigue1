{% block title %}Continue to Second Vacancy?{% endblock %}

{% block content %}

<style>
    body {
        background-color: #FFFFFF;
        font-family: Arial, sans-serif;
        padding: 20px;
        max-width: 700px;
        margin: 0 auto;
        text-align: center;
        color: #333;
    }

    .completion-message {
        background-color: #f8f9fa;
        padding: 30px;
        border-radius: 5px;
        margin: 20px 0;
        border: 1px solid #dee2e6;
        text-align: center;
    }

    .completion-message h3 {
        color: #333;
        margin-top: 0;
        margin-bottom: 20px;
    }

    .choice-info {
        background-color: #f8f9fa;
        padding: 30px;
        border-radius: 5px;
        margin: 20px 0;
        border: 1px solid #dee2e6;
        text-align: left;
    }

    .choice-info h4 {
        color: #333;
        margin-top: 0;
        margin-bottom: 15px;
    }

    .choice-info ul {
        margin: 10px 0;
        padding-left: 20px;
    }

    .choice-info li {
        margin: 8px 0;
        color: #555;
        line-height: 1.6;
    }

    .choice-option {
        background-color: #f8f9fa;
        padding: 15px 30px;
        margin: 10px;
        border: 2px solid #dee2e6;
        border-radius: 5px;
        cursor: pointer;
        display: inline-block;
        font-size: 16px;
        transition: all 0.3s;
        min-width: 180px;
    }

    .choice-option:hover {
        background-color: #e9ecef;
        border-color: #adb5bd;
    }

    .choice-option.selected {
        background-color: #007bff;
        color: white;
        border-color: #007bff;
    }

    .choice-buttons {
        margin: 30px 0;
    }

    .time-estimate {
        color: #666;
        font-size: 14px;
        margin: 20px 0;
        font-style: italic;
    }

    h1 {
        color: #333;
        margin-bottom: 20px;
    }
</style>

<h1>Vacancy {{ completed_vacancy }} Complete</h1>

<div class="completion-message">
    <h3>Congratulations!</h3>
    <p>You have successfully completed all 6 sessions for Vacancy {{ completed_vacancy }}.</p>
</div>

<div class="choice-info">
    <h4>Continue with Vacancy {{ next_vacancy }}?</h4>

    <p><strong>If you continue:</strong></p>
    <ul>
        <li>You'll complete 6 more sessions for Vacancy {{ next_vacancy }}</li>
        <li>You'll work with different documents and requirements</li>
        <li>Your final results will be based on Vacancy {{ next_vacancy }}</li>
    </ul>

    <p><strong>If you finish now:</strong></p>
    <ul>
        <li>Your final results will be based on Vacancy {{ completed_vacancy }}</li>
        <li>You'll see your complete performance summary</li>
        <li>The experiment will end here</li>
    </ul>
</div>

<div class="choice-buttons">
    <button type="button" class="choice-option" onclick="makeChoice(event, true)">
        Continue to Vacancy {{ next_vacancy }}
    </button>
    <button type="button" class="choice-option" onclick="makeChoice(event, false)">
        Finish Experiment
    </button>
</div>

<div class="time-estimate">
    <p><strong>Time estimate:</strong> Continuing will take approximately 60-90 more minutes.</p>
    <p>Both choices are completely valid for the research.</p>
</div>

<script>
    function makeChoice(event, continueChoice) {
        event.preventDefault();

        // Remove selection from all options
        document.querySelectorAll('.choice-option').forEach(option => {
            option.classList.remove('selected');
        });

        // Add selection to clicked option
        event.target.classList.add('selected');

        // Create and submit form
        setTimeout(() => {
            var form = document.createElement('form');
            form.method = 'post';
            form.action = '';

            var input = document.createElement('input');
            input.type = 'hidden';
            input.name = 'continue_to_second_vacancy';
            input.value = continueChoice;

            form.appendChild(input);
            document.body.appendChild(form);
            form.submit();
        }, 300);
    }
</script>

{% endblock %}